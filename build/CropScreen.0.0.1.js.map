{"version":3,"file":"CropScreen.0.0.1.js","mappings":"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","sources":["webpack://photo-block/./src/components/Icons/AspectRatio.js","webpack://photo-block/./src/components/Icons/ColonIcon.js","webpack://photo-block/./src/components/ToolbarAspectRatio/index.js","webpack://photo-block/./src/screens/Crop/index.js","webpack://photo-block/./src/utils/CalculateAspectRatioFromPixels.js","webpack://photo-block/./src/utils/CalculateDimensionsFromAspectRatio.js","webpack://photo-block/./src/components/ToolbarAspectRatio/editor.scss","webpack://photo-block/./src/screens/Crop/editor.scss"],"sourcesContent":["import React from 'react';\n\nconst AspectRatioIcon = () => (\n\t<svg\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\twidth={ 24 }\n\t\theight={ 24 }\n\t\tfillRule=\"evenodd\"\n\t\tstrokeLinejoin=\"round\"\n\t\tstrokeMiterlimit={ 2 }\n\t\tclipRule=\"evenodd\"\n\t\tviewBox=\"0 0 100 100\"\n\t>\n\t\t<path d=\"M90.734 21.888a9.376 9.376 0 0 0-9.375-9.375h-62.81a9.374 9.374 0 0 0-9.375 9.375v56.148a9.376 9.376 0 0 0 9.375 9.375h62.81a9.378 9.378 0 0 0 9.375-9.375V21.888zm-6.25 0v56.148a3.126 3.126 0 0 1-3.125 3.125h-62.81a3.126 3.126 0 0 1-3.125-3.125V21.888a3.125 3.125 0 0 1 3.125-3.125h62.81a3.125 3.125 0 0 1 3.125 3.125z\" />\n\t\t<path d=\"M45.313 24.854H31.104a9.376 9.376 0 0 0-9.375 9.375v14.209a3.125 3.125 0 0 0 6.25 0V34.229a3.126 3.126 0 0 1 3.125-3.125h14.208a3.126 3.126 0 0 0 .001-6.25zM54.542 75H68.75a9.376 9.376 0 0 0 9.375-9.375V51.417a3.126 3.126 0 0 0-6.25 0v14.208a3.125 3.125 0 0 1-3.125 3.125H54.542a3.126 3.126 0 0 0 0 6.25z\" />\n\t</svg>\n);\nexport default AspectRatioIcon;\n","import React from 'react';\n\nconst ColonIcon = () => (\n\t<svg\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 192 512\"\n\t\twidth={ 24 }\n\t\theight={ 24 }\n\t>\n\t\t<path\n\t\t\tfill=\"currentColor\"\n\t\t\td=\"M96 192a64 64 0 1 0 0-128 64 64 0 1 0 0 128zm0 256a64 64 0 1 0 0-128 64 64 0 1 0 0 128z\"\n\t\t/>\n\t</svg>\n);\nexport default ColonIcon;\n","/**\n * Uploading including showing Cancel and Retry buttons.\n */\nimport './editor.scss';\nimport {\n\tTextControl,\n\tButton,\n} from '@wordpress/components';\n\nimport { X } from 'lucide-react';\n\nimport { useContext, forwardRef, useState } from '@wordpress/element';\n\nimport { useForm, Controller, useWatch, useFormState } from 'react-hook-form';\n\nimport classnames from 'classnames';\n\nimport { __ } from '@wordpress/i18n';\nimport CalculateAspectRatioFromPixels from '../../utils/CalculateAspectRatioFromPixels';\nimport CalculateDimensionsFromAspectRatio from '../../utils/CalculateDimensionsFromAspectRatio';\nimport ColonIcon from '../Icons/ColonIcon';\n/**\n * Upload Status component.\n *\n * @param {Object} props - Component props.\n * @return {Object} JSX markup for the component.\n */\nconst ToolbarAspectRatio = forwardRef( ( props, ref ) => {\n\tconst { attributes, setAttributes } = props;\n\n\tconst getDefaultValues = () => {\n\t\treturn {\n\t\t\taspectRatioWidth: attributes.aspectRatioWidth,\n\t\t\taspectRatioHeight: attributes.aspectRatioHeight,\n\t\t\taspectRatioWidthPixels: attributes.aspectRatioWidthPixels,\n\t\t\taspectRatioHeightPixels: attributes.aspectRatioHeightPixels,\n\t\t\taspectRatioUnit: attributes.aspectRatioUnit,\n\t\t};\n\t};\n\n\tconst {\n\t\tcontrol,\n\t\thandleSubmit,\n\t\tsetValue,\n\t\tgetValues,\n\t} = useForm( {\n\t\tdefaultValues: getDefaultValues(),\n\t} );\n\n\tconst { isDirty } = useFormState( {\n\t\tcontrol,\n\t} );\n\tconst formValues = useWatch( { control } );\n\n\t/**\n\t * Swap from pixels to aspect ratio and back.\n\t */\n\tconst swapAspectRatio = () => {\n\t\tconst aspectRatioWidthPixels = getValues( 'aspectRatioWidthPixels' );\n\t\tconst aspectRatioHeightPixels = getValues( 'aspectRatioHeightPixels' );\n\t\tconst aspectRatioWidth = getValues( 'aspectRatioWidth' );\n\t\tconst aspectRatioHeight = getValues( 'aspectRatioHeight' );\n\t\tif ( getValues( 'aspectRatioUnit' ) === 'pixels' ) {\n\t\t\t// Convert aspect width / height to ratio for display.\n\t\t\tconst humanImageRatio = CalculateAspectRatioFromPixels(\n\t\t\t\taspectRatioWidthPixels,\n\t\t\t\taspectRatioHeightPixels\n\t\t\t);\n\t\t\tsetValue( 'aspectRatioWidth', humanImageRatio.width );\n\t\t\tsetValue( 'aspectRatioHeight', humanImageRatio.height );\n\t\t} else {\n\t\t\tconst pixelsWidthHeight = CalculateDimensionsFromAspectRatio( `${ aspectRatioWidth }:${ aspectRatioHeight }`, getValues( 'aspectRatioWidthPixels' ) );\n\t\t\tsetValue( 'aspectRatioWidthPixels', pixelsWidthHeight.width );\n\t\t\tsetValue( 'aspectRatioHeightPixels', pixelsWidthHeight.height );\n\t\t}\n\t};\n\n\t/**\n\t * The form has been submitted.\n\t *\n\t * @param {Object} formData form data.\n\t */\n\tconst onSubmit = ( formData ) => {\n\t\tprops.onChange( { ...formData } );\n\t};\n\treturn (\n\t\t<>\n\t\t\t<form onSubmit={ handleSubmit( onSubmit ) }>\n\t\t\t\t<div\n\t\t\t\t\tclassName={ classnames( 'dlx-photo-block__component-aspect-ratio', {\n\t\t\t\t\t\t'dlx-photo-block__component-aspect-ratio--active':\n\t\t\t\t\t\t'ratio' === getValues( 'aspectRatioUnit' ),\n\t\t\t\t\t\t'dlx-photo-block__component-pixels--active':\n\t\t\t\t\t\t'pixels' === getValues( 'aspectRatioUnit' ),\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\n\t\t\t\t\t{ getValues( 'aspectRatioUnit' ) === 'ratio' && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tname=\"aspectRatioWidth\"\n\t\t\t\t\t\t\t\tcontrol={ control }\n\t\t\t\t\t\t\t\trender={ ( { field: { onChange, value } } ) => (\n\t\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Aspect Ratio Width', 'photo-block' ) }\n\t\t\t\t\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\t\t\t\t\tonChange={ ( newValue ) => {\n\t\t\t\t\t\t\t\t\t\t\tonChange( newValue );\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={ 16 }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span className=\"dlx-photo-block__component-aspect-ratio-splitter\">\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\tclassName=\"dlx-photo-block__component-aspect-ratio-splitter-button\"\n\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t'Change between aspect ratio and pixels', 'photo-block'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tif ( 'pixels' === getValues( 'aspectRatioUnit' ) ) {\n\t\t\t\t\t\t\t\t\t\t\tsetValue( 'aspectRatioUnit', 'ratio' );\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes( { aspectRatioUnit: 'ratio' } );\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetValue( 'aspectRatioUnit', 'pixels' );\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes( { aspectRatioUnit: 'pixels' } );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\ticon={ 'pixels' === getValues( 'aspectRatioUnit' ) ? <X /> : <ColonIcon /> }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tname=\"aspectRatioHeight\"\n\t\t\t\t\t\t\t\tcontrol={ control }\n\t\t\t\t\t\t\t\trender={ ( { field: { onChange, value } } ) => (\n\t\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Aspect Ratio Height', 'photo-block' ) }\n\t\t\t\t\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\t\t\t\t\tonChange={ ( newValue ) => {\n\t\t\t\t\t\t\t\t\t\t\tonChange( newValue );\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={ 9 }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t\t{ getValues( 'aspectRatioUnit' ) === 'pixels' && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tname=\"aspectRatioWidthPixels\"\n\t\t\t\t\t\t\t\tcontrol={ control }\n\t\t\t\t\t\t\t\trender={ ( { field: { onChange, value } } ) => (\n\t\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Pixel Width', 'photo-block' ) }\n\t\t\t\t\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\t\t\t\t\tonChange={ ( newValue ) => {\n\t\t\t\t\t\t\t\t\t\t\tonChange( newValue );\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={ 16 }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span className=\"dlx-photo-block__component-aspect-ratio-splitter\">\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\tclassName=\"dlx-photo-block__component-aspect-ratio-splitter-button\"\n\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t'Change between aspect ratio and pixels', 'photo-block'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tif ( 'pixels' === getValues( 'aspectRatioUnit' ) ) {\n\t\t\t\t\t\t\t\t\t\t\tsetValue( 'aspectRatioUnit', 'ratio' );\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes( { aspectRatioUnit: 'ratio' } );\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetValue( 'aspectRatioUnit', 'pixels' );\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes( { aspectRatioUnit: 'pixels' } );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\ticon={ 'pixels' === getValues( 'aspectRatioUnit' ) ? <X width={ 16 } height={ 16 } /> : <ColonIcon width={ 16 } height={ 16 } /> }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tname=\"aspectRatioHeightPixels\"\n\t\t\t\t\t\t\t\tcontrol={ control }\n\t\t\t\t\t\t\t\trender={ ( { field: { onChange, value } } ) => (\n\t\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Pixel Height', 'photo-block' ) }\n\t\t\t\t\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\t\t\t\t\tonChange={ ( newValue ) => {\n\t\t\t\t\t\t\t\t\t\t\tonChange( newValue );\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tplaceholder={ 9 }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant={ 'primary' }\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName=\"dlx-photo-block__component-aspect-ratio-apply\"\n\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t'Apply the Aspect Ratio',\n\t\t\t\t\t\t\t'photo-block'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\ttooltip={ __(\n\t\t\t\t\t\t\t'Switch modes from Aspect Ratio to Width and Height (pixels)',\n\t\t\t\t\t\t\t'photo-block'\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Apply', 'photo-block' ) }\n\t\t\t\t\t</Button>\n\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</>\n\t);\n} );\nexport default ToolbarAspectRatio;\n","import './editor.scss';\nimport 'react-image-crop/src/ReactCrop.scss';\n\nimport { useContext, useState, forwardRef, useRef } from '@wordpress/element';\nimport {\n\tSpinner,\n\tPanelBody,\n\tPanelRow,\n\tRangeControl,\n\tTextControl,\n\tTextareaControl,\n\tButtonGroup,\n\tButton,\n\tToggleControl,\n\tToolbar,\n\tToolbarItem,\n\tToolbarButton,\n\tToolbarGroup,\n\tToolbarDropdownMenu,\n\tPopover,\n\tPlaceHolder,\n\tMenuGroup,\n\tMenuItem,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { InspectorControls, BlockControls } from '@wordpress/block-editor';\nimport { Check, RotateCcw, RotateCw, Save, X, Lock, Loader2 } from 'lucide-react';\nimport ReactCrop from 'react-image-crop';\nimport classnames from 'classnames';\nimport UploaderContext from '../../contexts/UploaderContext';\nimport { useEffect } from 'react';\nimport SendCommand from '../../utils/SendCommand';\nimport AspectRatioIcon from '../../components/Icons/AspectRatio';\nimport ToolbarAspectRatio from '../../components/ToolbarAspectRatio';\nimport CalculateAspectRatioFromPixels from '../../utils/CalculateAspectRatioFromPixels';\nimport CalculateDimensionsFromAspectRatio from '../../utils/CalculateDimensionsFromAspectRatio';\n\nconst CropScreen = ( props ) => {\n\tconst { screen, imageFile, setScreen, setImageFile } =\n\t\tuseContext( UploaderContext );\n\tconst { attributes, setAttributes } = props;\n\n\tconst [ shouldShowLoading, setShouldShowLoading ] = useState( true );\n\tconst [ shouldFetchImage, setShouldFetchImage ] = useState( true );\n\tconst [ fullsizePhoto, setFullsizePhoto ] = useState( {} );\n\tconst [ modifiedPhoto, setModifiedPhoto ] = useState( null );\n\tconst [ rotateDegrees, setRotateDegrees ] = useState( 0 );\n\tconst [ crop, setCrop ] = useState( null );\n\tconst [ lockCrop, setLockCrop ] = useState( true );\n\tconst [ isSaving, setIsSaving ] = useState( false );\n\tconst [ cropAspectRatio, setCropAspectRatio ] = useState( undefined );\n\tconst [ cropMaxWidth, setCropMaxWidth ] = useState( null ); // Used for setting the max crop size when selecting pixel values for aspect ratio.\n\tconst [ cropMaxHeight, setCropMaxHeight ] = useState( null ); // Used for setting the max crop size when selecting pixel values for aspect ratio.\n\tconst [ reactCropImageRef, setReactCropImageRef ] = useState( null );\n\n\tconst {\n\t\tphoto,\n\t\tuniqueId,\n\t\taspectRatio,\n\t\taspectRatioUnit,\n\t\taspectRatioWidth,\n\t\taspectRatioHeight,\n\t\taspectRatioWidthPixels,\n\t\taspectRatioHeightPixels,\n\t} = attributes;\n\n\tconst { url, id, width, height } = photo;\n\n\t/**\n\t * Rotate an image.\n\t *\n\t * @param {string} imgSrc  The Image URL.\n\t * @param {number} degrees The degrees in which to rotate the image.\n\t * @return {Promise} A promise that resolves with the new image URL.\n\t */\n\tconst rotateImage = ( imgSrc, degrees ) => {\n\t\treturn new Promise( ( resolve, reject ) => {\n\t\t\tconst canvas = document.createElement( 'canvas' );\n\t\t\tconst context = canvas.getContext( '2d' );\n\t\t\tconst image = new Image();\n\t\t\timage.crossOrigin = 'anonymous';\n\t\t\timage.src = imgSrc;\n\t\t\timage.onload = () => {\n\t\t\t\t// Get canvas dimensions from image.\n\t\t\t\tconst radian = ( degrees * Math.PI ) / 180;\n\t\t\t\tconst sin = Math.sin( radian );\n\t\t\t\tconst cos = Math.cos( radian );\n\t\t\t\tconst imgWidth =\n\t\t\t\t\tMath.abs( image.width * cos ) + Math.abs( image.height * sin );\n\t\t\t\tconst imgHeight =\n\t\t\t\t\tMath.abs( image.width * sin ) + Math.abs( image.height * cos );\n\n\t\t\t\t// Begin to rotate.\n\t\t\t\tcanvas.width = imgWidth;\n\t\t\t\tcanvas.height = imgHeight;\n\t\t\t\tcontext.translate( canvas.width / 2, canvas.height / 2 );\n\t\t\t\tcontext.rotate( ( degrees * Math.PI ) / 180 );\n\t\t\t\tcontext.drawImage( image, -image.width / 2, -image.height / 2 );\n\t\t\t\tcanvas.toBlob( ( blob ) => {\n\t\t\t\t\tconst newImageUrl = URL.createObjectURL( blob );\n\t\t\t\t\tresolve( {\n\t\t\t\t\t\turl: newImageUrl,\n\t\t\t\t\t\twidth: canvas.width,\n\t\t\t\t\t\theight: canvas.height,\n\t\t\t\t\t} );\n\t\t\t\t}, 'image/png' );\n\t\t\t};\n\t\t\timage.onerror = ( error ) => {\n\t\t\t\treject( error );\n\t\t\t};\n\t\t} );\n\t};\n\n\t/**\n\t * Return the current degree for the rotation items.\n\t *\n\t * @param {number} degrees The degree to add/subtract.\n\t * @return {number} The new degree.\n\t */\n\tconst getDegrees = ( degrees ) => {\n\t\tconst newDegrees = rotateDegrees + degrees;\n\t\tif ( newDegrees === 360 ) {\n\t\t\treturn 0;\n\t\t}\n\t\tif ( newDegrees === -360 ) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn newDegrees;\n\t};\n\n\t/**\n\t * Crop an image using the REST API.\n\t *\n\t * @param {Object} cropObject React crop object.\n\t * @param {number} imageId    The image ID.\n\t * @param {number} rotate     Image rotation in degrees.\n\t *\n\t * @return {Promise} The REST API promise.\n\t */\n\tconst cropImage = async( cropObject, imageId, rotate ) => {\n\t\t// Get image dimensions relative to viewport.\n\t\tconst displayDimensionsWidth = reactCropImageRef.offsetWidth;\n\t\tconst displayDimensionsHeight = reactCropImageRef.offsetHeight;\n\t\tconst originalDimensionsWidth = reactCropImageRef.naturalWidth;\n\t\tconst originalDimensionsHeight = reactCropImageRef.naturalHeight;\n\n\t\t// Get crop dimensions to send to server.\n\t\tconst scaleX = originalDimensionsWidth / displayDimensionsWidth;\n\t\tconst scaleY = originalDimensionsHeight / displayDimensionsHeight;\n\n\t\t// Scale crop coordinates\n\t\tconst scaledCropX = cropObject.x * scaleX;\n\t\tconst scaledCropY = cropObject.y * scaleY;\n\t\tconst scaledCropWidth = cropObject.width * scaleX;\n\t\tconst scaledCropHeight = cropObject.height * scaleY;\n\t\treturn await SendCommand(\n\t\t\tphotoBlock.restNonce,\n\t\t\t{\n\t\t\t\tcropX: scaledCropX,\n\t\t\t\tcropY: scaledCropY,\n\t\t\t\tcropWidth: scaledCropWidth,\n\t\t\t\tcropHeight: scaledCropHeight,\n\t\t\t\timageId,\n\t\t\t\trotateDegrees: rotate,\n\t\t\t},\n\t\t\t`${ photoBlock.restUrl + '/image/crop' }`,\n\t\t\t'POST'\n\t\t);\n\t};\n\n\t/**\n\t * Set a new center crop based on the image dimensions.\n\t *\n\t * @param {number} imageWidth     The image width in pixels.\n\t * @param {number} imageHeight    The image height in pixels.\n\t * @param {number} newAspectRatio The aspect ratio.\n\t * @param {number} maximumWidth   The maximum width in pixels.\n\t * @param {number} maximumHeight  The maximum height in pixels.\n\t */\n\tconst setCenterCrop = ( imageWidth, imageHeight, newAspectRatio, maximumWidth = null, maximumHeight = null ) => {\n\t\tconst initialCropRatio = 1;\n\n\t\t\n\n\t\t// Get the initial crop size.\n\t\tconst minDimension = Math.min( imageWidth, imageHeight );\n\t\tconst initialCropSize = minDimension * initialCropRatio;\n\n\t\t// Get the crop width/height.\n\t\tlet cropWidth, cropHeight;\n\t\tif ( imageWidth < imageHeight ) {\n\t\t\tcropWidth = initialCropSize;\n\t\t\tcropHeight = cropWidth / newAspectRatio;\n\t\t} else {\n\t\t\tcropHeight = initialCropSize;\n\t\t\tcropWidth = cropHeight * newAspectRatio;\n\t\t}\n\t\tif ( maximumWidth && maximumHeight ) {\n\t\t\tcropWidth = maximumWidth;\n\t\t\tcropHeight = maximumHeight;\n\t\t}\n\n\t\t// Check if crop width/height exceed image dimensions.\n\t\tif ( cropWidth > imageWidth ) {\n\t\t\tcropWidth = imageWidth;\n\t\t\tcropHeight = cropWidth / newAspectRatio;\n\t\t}\n\t\tif ( cropHeight > imageHeight ) {\n\t\t\tcropHeight = imageHeight;\n\t\t\tcropWidth = cropHeight * newAspectRatio;\n\t\t}\n\n\t\t// Calculate X/Y vars.\n\t\tconst x = Math.max( ( imageWidth - cropWidth ) / 2, 0 );\n\t\tconst y = Math.max( ( imageHeight - cropHeight ) / 2, 0 );\n\n\t\t// Set crop object.\n\t\tconst newCrop = {\n\t\t\taspect: cropWidth / cropHeight,\n\t\t\tunit: 'px',\n\t\t\tx,\n\t\t\ty,\n\t\t\twidth: cropWidth,\n\t\t\theight: cropHeight,\n\t\t};\n\t\tif ( maximumWidth && maximumHeight ) {\n\t\t\tnewCrop.maxWidth = maximumWidth;\n\t\t\tnewCrop.maxHeight = maximumHeight;\n\t\t}\n\t\tsetCrop( newCrop );\n\t};\n\n\t/**\n\t * Fetch the full size image for cropping.\n\t */\n\tuseEffect( () => {\n\t\tasync function fetchImage() {\n\t\t\tconst response = await SendCommand(\n\t\t\t\tphotoBlock.restNonce,\n\t\t\t\t{},\n\t\t\t\t`${ photoBlock.restUrl + '/get-image' }/id=${ photo.id }`,\n\t\t\t\t'GET'\n\t\t\t);\n\t\t\tconst { data } = response;\n\t\t\tsetFullsizePhoto( data );\n\n\t\t\tlet newAspectRatio = aspectRatioWidth / aspectRatioHeight;\n\t\t\tif ( 'pixels' === aspectRatioUnit ) {\n\t\t\t\tconst humanImageRatio = CalculateAspectRatioFromPixels(\n\t\t\t\t\taspectRatioWidthPixels,\n\t\t\t\t\taspectRatioHeightPixels\n\t\t\t\t);\n\t\t\t\tnewAspectRatio = humanImageRatio.width / humanImageRatio.height;\n\t\t\t}\n\n\t\t\t// Set crop value.\n\t\t\tsetShouldShowLoading( false );\n\t\t\tsetCropAspectRatio( newAspectRatio );\n\t\t}\n\t\tfetchImage();\n\t}, [ shouldFetchImage ] );\n\n\t/* Set Center Crop when image has finished loading */\n\tuseEffect( () => {\n\t\tif ( reactCropImageRef ) {\n\t\t\tsetCenterCrop( reactCropImageRef.offsetWidth, reactCropImageRef.offsetHeight, cropAspectRatio );\n\t\t}\n\t}, [ reactCropImageRef ] );\n\n\t/**\n\t * Create new crop object when aspect ratio changes.\n\t *\n\t * @param {number} newAspectRatioWidth  The aspect ratio width.\n\t * @param {number} newAspectRatioHeight The aspect ratio height.\n\t * @param {number} maximumWidth         The maximum width in pixels.\n\t * @param {number} maximumHeight        The maximum height in pixels.\n\t */\n\tconst handleAspectRatioChange = ( newAspectRatioWidth, newAspectRatioHeight, maximumWidth = null, maximumHeight = null ) => {\n\t\t// Aspect ratio.\n\t\tlet newAspectRatio = newAspectRatioWidth / newAspectRatioHeight;\n\t\tif ( null !== maximumWidth && null !== maximumHeight ) {\n\t\t\tnewAspectRatio = maximumWidth / maximumHeight;\n\t\t\tsetCropMaxWidth( maximumWidth );\n\t\t\tsetCropMaxHeight( maximumHeight );\n\t\t} else {\n\t\t\tsetCropMaxWidth( null );\n\t\t\tsetCropMaxHeight( null );\n\t\t}\n\t\tsetCropAspectRatio( newAspectRatio );\n\t\tsetCenterCrop( reactCropImageRef.offsetWidth, reactCropImageRef?.offsetHeight, newAspectRatio, maximumWidth, maximumHeight );\n\t};\n\n\t// Set the local inspector controls.\n\tconst localInspectorControls = (\n\t\t<InspectorControls>\n\t\t\t<PanelBody title={ __( 'Crop Settings', 'photo-block' ) }>\n\t\t\t\t<PanelRow>Crop options here</PanelRow>\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n\n\tconst localToolbar = (\n\t\t<BlockControls>\n\t\t\t<ToolbarGroup>\n\t\t\t\t<ToolbarDropdownMenu\n\t\t\t\t\ticon={ <AspectRatioIcon /> }\n\t\t\t\t\tlabel={ __( 'Aspect Ratio', 'photo-block' ) }\n\t\t\t\t>\n\t\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<MenuGroup className=\"dlx-photo-block__aspect-ratio-group\">\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\ticon={ 'original' === aspectRatio ? <Check /> : null }\n\t\t\t\t\t\t\t\t\tisSelected={ 'original' === aspectRatio }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { aspectRatio: 'original' } );\n\t\t\t\t\t\t\t\t\t\thandleAspectRatioChange( fullsizePhoto?.width, fullsizePhoto?.height );\n\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Original', 'photo-block' ) }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\ticon={ 'square' === aspectRatio ? <Check /> : null }\n\t\t\t\t\t\t\t\t\tisSelected={ 'square' === aspectRatio }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { aspectRatio: 'square' } );\n\t\t\t\t\t\t\t\t\t\thandleAspectRatioChange( 1, 1 );\n\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Square', 'photo-block' ) }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\ticon={ 'custom' === aspectRatio ? <Check /> : null }\n\t\t\t\t\t\t\t\t\tisSelected={ 'custom' === aspectRatio }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { aspectRatio: 'custom' } );\n\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Custom', 'photo-block' ) }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t\t<MenuGroup\n\t\t\t\t\t\t\t\tlabel={ __( 'Landscape', 'photo-block' ) }\n\t\t\t\t\t\t\t\tclassName=\"dlx-photo-block__aspect-ratio-group\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\ticon={ '16:10' === aspectRatio ? <Check /> : null }\n\t\t\t\t\t\t\t\t\tisSelected={ '16:10' === aspectRatio }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { aspectRatio: '16:10' } );\n\t\t\t\t\t\t\t\t\t\thandleAspectRatioChange( 16, 10 );\n\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( '16:10', 'photo-block' ) }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\ticon={ '16:9' === aspectRatio ? <Check /> : null }\n\t\t\t\t\t\t\t\t\tisSelected={ '16:9' === aspectRatio }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { aspectRatio: '16:9' } );\n\t\t\t\t\t\t\t\t\t\thandleAspectRatioChange( 16, 9 );\n\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( '16:9', 'photo-block' ) }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\ticon={ '4:3' === aspectRatio ? <Check /> : null }\n\t\t\t\t\t\t\t\t\tisSelected={ '4:3' === aspectRatio }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { aspectRatio: '4:3' } );\n\t\t\t\t\t\t\t\t\t\thandleAspectRatioChange( 4, 3 );\n\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( '4:3', 'photo-block' ) }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\ticon={ '3:2' === aspectRatio ? <Check /> : null }\n\t\t\t\t\t\t\t\t\tisSelected={ '3:2' === aspectRatio }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { aspectRatio: '3:2' } );\n\t\t\t\t\t\t\t\t\t\thandleAspectRatioChange( 3, 2 );\n\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( '3:2', 'photo-block' ) }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t\t<MenuGroup\n\t\t\t\t\t\t\t\tlabel={ __( 'Portrait', 'photo-block' ) }\n\t\t\t\t\t\t\t\tclassName=\"dlx-photo-block__aspect-ratio-group\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\ticon={ '10:16' === aspectRatio ? <Check /> : null }\n\t\t\t\t\t\t\t\t\tisSelected={ '10:16' === aspectRatio }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { aspectRatio: '10:16' } );\n\t\t\t\t\t\t\t\t\t\thandleAspectRatioChange( 10, 16 );\n\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( '10:16', 'photo-block' ) }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\ticon={ '9:16' === aspectRatio ? <Check /> : null }\n\t\t\t\t\t\t\t\t\tisSelected={ '9:16' === aspectRatio }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { aspectRatio: '9:16' } );\n\t\t\t\t\t\t\t\t\t\thandleAspectRatioChange( 9, 16 );\n\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( '9:16', 'photo-block' ) }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\ticon={ '3:4' === aspectRatio ? <Check /> : null }\n\t\t\t\t\t\t\t\t\tisSelected={ '3:4' === aspectRatio }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { aspectRatio: '3:4' } );\n\t\t\t\t\t\t\t\t\t\thandleAspectRatioChange( 3, 4 );\n\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( '3:4', 'photo-block' ) }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\ticon={ '2:3' === aspectRatio ? <Check /> : null }\n\t\t\t\t\t\t\t\t\tisSelected={ '2:3' === aspectRatio }\n\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes( { aspectRatio: '2:3' } );\n\t\t\t\t\t\t\t\t\t\thandleAspectRatioChange( 2, 3 );\n\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( '2:3', 'photo-block' ) }\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</ToolbarDropdownMenu>\n\t\t\t\t<ToolbarButton\n\t\t\t\t\tclassName=\"dlx-photo-block__lock-crop-button\"\n\t\t\t\t\ticon={ <Lock /> }\n\t\t\t\t\tlabel={ lockCrop ? __( 'UnLock Aspect Ratio', 'photo-block' ) : __( 'Lock Aspect Ratio', 'photo-block' ) }\n\t\t\t\t\tisActive={ lockCrop }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tsetLockCrop( ! lockCrop );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t\t<ToolbarButton\n\t\t\t\t\ticon={ <RotateCcw /> }\n\t\t\t\t\tlabel={ __( 'Rotate Left', 'photo-block' ) }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tconst degrees = getDegrees( -90 );\n\t\t\t\t\t\tsetRotateDegrees( degrees );\n\t\t\t\t\t\trotateImage( photo.url, degrees ).then( ( newImage ) => {\n\t\t\t\t\t\t\tsetFullsizePhoto( newImage );\n\t\t\t\t\t\t\tsetModifiedPhoto( newImage );\n\t\t\t\t\t\t} );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t\t<ToolbarButton\n\t\t\t\t\ticon={ <RotateCw /> }\n\t\t\t\t\tlabel={ __( 'Rotate Right', 'photo-block' ) }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tconst degrees = getDegrees( 90 );\n\t\t\t\t\t\tsetRotateDegrees( degrees );\n\t\t\t\t\t\trotateImage( photo.url, degrees ).then( ( newImage ) => {\n\t\t\t\t\t\t\tsetFullsizePhoto( newImage );\n\t\t\t\t\t\t\tsetModifiedPhoto( newImage );\n\t\t\t\t\t\t} );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</ToolbarGroup>\n\t\t\t{ 'custom' === aspectRatio && (\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t<ToolbarItem as={ forwardRef( ( args, ref ) => ( <ToolbarAspectRatio attributes={ attributes } setAttributes={ setAttributes } forwardRef={ ref } onChange={ ( values ) => {\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\taspectRatioWidthPixels: values.aspectRatioWidthPixels,\n\t\t\t\t\t\t\taspectRatioHeightPixels: values.aspectRatioHeightPixels,\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tif ( 'pixels' === values.aspectRatioUnit ) {\n\t\t\t\t\t\t\tconst humanImageRatio = CalculateAspectRatioFromPixels(\n\t\t\t\t\t\t\t\tvalues.aspectRatioWidthPixels,\n\t\t\t\t\t\t\t\tvalues.aspectRatioHeightPixels\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\taspectRatioWidth: humanImageRatio.width,\n\t\t\t\t\t\t\t\taspectRatioHeight: humanImageRatio.height,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\thandleAspectRatioChange( humanImageRatio.width, humanImageRatio.height, values.aspectRatioWidthPixels, values.aspectRatioHeightPixels );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\taspectRatioWidth: values.aspectRatioWidth,\n\t\t\t\t\t\t\t\taspectRatioHeight: values.aspectRatioHeight,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\thandleAspectRatioChange( values.aspectRatioWidth, values.aspectRatioHeight );\n\t\t\t\t\t\t}\n\t\t\t\t\t} } /> ) ) } />\n\t\t\t\t</ToolbarGroup>\n\t\t\t) }\n\t\t\t<ToolbarGroup>\n\t\t\t\t<ToolbarButton\n\t\t\t\t\ticon={ isSaving ? <Loader2 /> : <Save /> }\n\t\t\t\t\tclassName={ classnames( 'dlx-photo-block__save-button', {\n\t\t\t\t\t\t'is-saving': isSaving } ) }\n\t\t\t\t\tlabel={ __( 'Save Changes', 'photo-block' ) }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tif ( isSaving ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetIsSaving( true );\n\n\t\t\t\t\t\tconst croppedImage = cropImage( crop, photo.id, rotateDegrees );\n\t\t\t\t\t\tcroppedImage.then( ( imageResponse ) => {\n\t\t\t\t\t\t\tconst { data } = imageResponse;\n\t\t\t\t\t\t\tif ( data.success ) {\n\t\t\t\t\t\t\t\tsetImageFile( data.data.attachment );\n\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\tphoto: data.data.attachment,\n\t\t\t\t\t\t\t\t\timageDimensions: {\n\t\t\t\t\t\t\t\t\t\twidth: data.data.width,\n\t\t\t\t\t\t\t\t\t\theight: data.data.height,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\tsetScreen( 'edit' );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// todo: error handling.\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} ).catch( ( error ) => {\n\t\t\t\t\t\t\tconsole.log( error );\n\t\t\t\t\t\t} ).then( () => {\n\t\t\t\t\t\t\tsetIsSaving( false );\n\t\t\t\t\t\t} );\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ isSaving ? __( 'Saving…', 'photo-block' ) : __( 'Save Changes', 'photo-block' ) }\n\t\t\t\t</ToolbarButton>\n\t\t\t\t<ToolbarButton\n\t\t\t\t\ticon={ <X /> }\n\t\t\t\t\tlabel={ __( 'Cancel', 'photo-block' ) }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tsetScreen( 'edit' );\n\t\t\t\t\t} }\n\t\t\t\t\tdisabled={ isSaving }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Cancel', 'photo-block' ) }\n\t\t\t\t</ToolbarButton>\n\t\t\t</ToolbarGroup>\n\t\t</BlockControls>\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{ localInspectorControls }\n\t\t\t{ localToolbar }\n\t\t\t<div className=\"dlx-photo-block__screen-edit\">\n\t\t\t\t{ shouldShowLoading && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"dlx-photo-block__screen-edit-spinner\"\n\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\tminWidth: width,\n\t\t\t\t\t\t\tminHeight: height,\n\t\t\t\t\t\t\tmaxWidth: '100%',\n\t\t\t\t\t\t\tmaxHeight: '100%',\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t<h3>{ __( 'Loading Full Size Image', 'photo-block' ) }</h3>\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t{ ! shouldShowLoading && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<ReactCrop\n\t\t\t\t\t\t\taspect={ lockCrop ? cropAspectRatio : null }\n\t\t\t\t\t\t\tcrop={ crop }\n\t\t\t\t\t\t\tonChange={ ( newCrop ) => {\n\t\t\t\t\t\t\t\tsetCrop( newCrop );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\truleOfThirds={ true }\n\t\t\t\t\t\t\tmaxWidth={ cropMaxWidth ?? undefined }\n\t\t\t\t\t\t\tmaxHeight={ cropMaxHeight ?? undefined }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={ fullsizePhoto?.url ?? '' }\n\t\t\t\t\t\t\t\twidth={ fullsizePhoto?.width }\n\t\t\t\t\t\t\t\theight={ fullsizePhoto?.height }\n\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\tmaxWidth: '100%',\n\t\t\t\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t\tref={ setReactCropImageRef }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ReactCrop>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</>\n\t);\n};\nexport default CropScreen;\n","/**\n * Returns an aspect ratio in human readable format.\n *\n * @param {number} width  Width in pixels.\n * @param {number} height Height in pixels.\n * @return {string} Aspect ratio in human readable format.\n */\nconst CalculateAspectRatioFromPixels = ( width, height ) => {\n\tconsole.log( width, height );\n\t// Find the greatest common factor\n\tfunction findGCF( a, b ) {\n\t\treturn b === 0 ? a : findGCF( b, a % b );\n\t}\n\tconst gcf = findGCF( width, height );\n\n\t// Simplify the ratio\n\tconst simplifiedWidth = width / gcf;\n\tconst simplifiedHeight = height / gcf;\n\n\t// Format the ratio as \"X:Y\"\n\treturn {\n\t\twidth: simplifiedWidth,\n\t\theight: simplifiedHeight,\n\t};\n};\nexport default CalculateAspectRatioFromPixels;\n","/**\n * Returns an aspect ratio in human readable format.\n *\n * @param {string} aspectRatio Aspect ratio in human readable format.\n * @param {number} width       Width in pixels.\n * @return {string} Aspect ratio in human readable format.\n */\nconst CalculateDimensionsFromAspectRatio = ( aspectRatio, width ) => {\n\t// Split the aspect ratio into its components.\n\tconst [ x, y ] = aspectRatio.split( ':' ).map( parseFloat );\n\n\t// Calculate the height from the width and aspect ratio.\n\tconst height = Math.round( width * ( y / x ) );\n\n\t// Return width/height.\n\treturn {\n\t\twidth,\n\t\theight,\n\t};\n};\nexport default CalculateDimensionsFromAspectRatio;\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};"],"names":["React","AspectRatioIcon","createElement","xmlns","width","height","fillRule","strokeLinejoin","strokeMiterlimit","clipRule","viewBox","d","ColonIcon","fill","TextControl","Button","X","useContext","forwardRef","useState","useForm","Controller","useWatch","useFormState","classnames","__","CalculateAspectRatioFromPixels","CalculateDimensionsFromAspectRatio","ToolbarAspectRatio","props","ref","attributes","setAttributes","getDefaultValues","aspectRatioWidth","aspectRatioHeight","aspectRatioWidthPixels","aspectRatioHeightPixels","aspectRatioUnit","_useForm","defaultValues","control","handleSubmit","setValue","getValues","_useFormState","isDirty","formValues","swapAspectRatio","humanImageRatio","pixelsWidthHeight","concat","onSubmit","formData","onChange","_objectSpread","Fragment","className","name","render","_ref","_ref$field","field","value","label","newValue","type","placeholder","variant","onClick","icon","_ref2","_ref2$field","_ref3","_ref3$field","_ref4","_ref4$field","tooltip","_regeneratorRuntime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","defineProperty","obj","key","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","_typeof","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","undefined","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","constructor","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","_catch","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","arguments","apply","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","o","minLen","_arrayLikeToArray","n","toString","Array","from","test","len","arr2","_i","_s","_e","_x","_r","_arr","_n","_d","isArray","useRef","Spinner","PanelBody","PanelRow","RangeControl","TextareaControl","ButtonGroup","ToggleControl","Toolbar","ToolbarItem","ToolbarButton","ToolbarGroup","ToolbarDropdownMenu","Popover","PlaceHolder","MenuGroup","MenuItem","InspectorControls","BlockControls","Check","RotateCcw","RotateCw","Save","Lock","Loader2","ReactCrop","UploaderContext","useEffect","SendCommand","CropScreen","_fullsizePhoto$url","_useContext","screen","imageFile","setScreen","setImageFile","_useState","_useState2","shouldShowLoading","setShouldShowLoading","_useState3","_useState4","shouldFetchImage","setShouldFetchImage","_useState5","_useState6","fullsizePhoto","setFullsizePhoto","_useState7","_useState8","modifiedPhoto","setModifiedPhoto","_useState9","_useState10","rotateDegrees","setRotateDegrees","_useState11","_useState12","crop","setCrop","_useState13","_useState14","lockCrop","setLockCrop","_useState15","_useState16","isSaving","setIsSaving","_useState17","_useState18","cropAspectRatio","setCropAspectRatio","_useState19","_useState20","cropMaxWidth","setCropMaxWidth","_useState21","_useState22","cropMaxHeight","setCropMaxHeight","_useState23","_useState24","reactCropImageRef","setReactCropImageRef","photo","uniqueId","aspectRatio","url","id","rotateImage","imgSrc","degrees","canvas","document","getContext","image","Image","crossOrigin","src","onload","radian","Math","PI","sin","cos","imgWidth","abs","imgHeight","translate","rotate","drawImage","toBlob","blob","newImageUrl","URL","createObjectURL","onerror","getDegrees","newDegrees","cropImage","_callee","cropObject","imageId","displayDimensionsWidth","displayDimensionsHeight","originalDimensionsWidth","originalDimensionsHeight","scaleX","scaleY","scaledCropX","scaledCropY","scaledCropWidth","scaledCropHeight","_callee$","_context","offsetWidth","offsetHeight","naturalWidth","naturalHeight","x","y","photoBlock","restNonce","cropX","cropY","cropWidth","cropHeight","restUrl","_x2","_x3","_x4","setCenterCrop","imageWidth","imageHeight","newAspectRatio","maximumWidth","maximumHeight","initialCropRatio","minDimension","min","initialCropSize","max","newCrop","aspect","unit","maxWidth","maxHeight","fetchImage","_fetchImage","_callee2","response","data","_callee2$","_context2","handleAspectRatioChange","newAspectRatioWidth","newAspectRatioHeight","localInspectorControls","title","localToolbar","onClose","isSelected","isActive","newImage","as","croppedImage","imageResponse","success","attachment","imageDimensions","console","log","disabled","style","minWidth","minHeight","ruleOfThirds","alt","findGCF","a","b","gcf","simplifiedWidth","simplifiedHeight","_aspectRatio$split$ma","split","map","parseFloat","_aspectRatio$split$ma2","round"],"sourceRoot":""}