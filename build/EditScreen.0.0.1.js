"use strict";(self.webpackChunkphoto_block=self.webpackChunkphoto_block||[]).push([[293],{4280:function(e,t,o){o.d(t,{Z:function(){return m}});var n=o(5609),r=(o(6483),o(9307)),a=o(5736),l=o(4184),c=o.n(l),i=o(4797);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,_x,a,l=[],_n=!0,c=!1;try{if(_x=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;_n=!1}else for(;!(_n=(n=_x.call(o)).done)&&(l.push(n.value),l.length!==t);_n=!0);}catch(e){c=!0,r=e}finally{try{if(!_n&&null!=o.return&&(a=o.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}o(1552);var h=function(e){var t=e.filter,o=e.label,a=e.isSelected,l=e.fullUrl,s=e.imageDimensions;!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}((0,r.useContext)(i.Z));var h=u((0,r.useState)(null),2),p=h[0],b=h[1],m=u((0,r.useState)(!1),2),f=m[0],d=m[1];return React.createElement(React.Fragment,null,React.createElement(n.Button,{variant:a?"primary":"secondary",onClick:function(){return e.onClick(t)},onMouseEnter:function(){return d(!0),void p.focus()},onMouseLeave:function(){d(!1)},ref:b},o),f&&React.createElement(n.Popover,{className:"dlx-photo-block__css-gram-image-popover",placement:"left-start",anchor:p,onClose:function(){d(!1)},offset:10,noArrow:!1},React.createElement("div",{className:"dlx-photo-block__css-gram-image-popover-wrapper"},React.createElement("img",{src:l,className:c()("photo-block-".concat(t),{"has-css-gram":"none"!==t}),width:s.width,height:s.height,alt:""}))))};function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var b=[{value:"none",label:(0,a.__)("None","photo-block")},{value:"1977",label:(0,a.__)("1977","photo-block")},{value:"aden",label:(0,a.__)("Aden","photo-block")},{value:"brannan",label:(0,a.__)("Brannan","photo-block")},{value:"brooklyn",label:(0,a.__)("Brooklyn","photo-block")},{value:"clarendon",label:(0,a.__)("Clarendon","photo-block")},{value:"earlybird",label:(0,a.__)("Earlybird","photo-block")},{value:"gingham",label:(0,a.__)("Gingham","photo-block")},{value:"hudson",label:(0,a.__)("Hudson","photo-block")},{value:"inkwell",label:(0,a.__)("Inkwell","photo-block")},{value:"kelvin",label:(0,a.__)("Kelvin","photo-block")},{value:"lark",label:(0,a.__)("Lark","photo-block")},{value:"lofi",label:(0,a.__)("Lo-Fi","photo-block")},{value:"maven",label:(0,a.__)("Maven","photo-block")},{value:"mayfair",label:(0,a.__)("Mayfair","photo-block")},{value:"moon",label:(0,a.__)("Moon","photo-block")},{value:"nashville",label:(0,a.__)("Nashville","photo-block")},{value:"perpetua",label:(0,a.__)("Perpetua","photo-block")},{value:"reyes",label:(0,a.__)("Reyes","photo-block")},{value:"rise",label:(0,a.__)("Rise","photo-block")},{value:"slumber",label:(0,a.__)("Slumber","photo-block")},{value:"stinson",label:(0,a.__)("Stinson","photo-block")},{value:"toaster",label:(0,a.__)("Toaster","photo-block")},{value:"valencia",label:(0,a.__)("Valencia","photo-block")},{value:"walden",label:(0,a.__)("Walden","photo-block")},{value:"willow",label:(0,a.__)("Willow","photo-block")},{value:"xpro2",label:(0,a.__)("X-Pro II","photo-block")}],m=function(e){var t,o,l=e.attributes,c=e.setAttributes,u=(l.photo,l.imageDimensions),s=(0,r.useContext)(i.Z).imageFile,m=(t=(0,r.useState)("none"),o=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,_x,a,l=[],_n=!0,c=!1;try{if(_x=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;_n=!1}else for(;!(_n=(n=_x.call(o)).done)&&(l.push(n.value),l.length!==t);_n=!0);}catch(e){c=!0,r=e}finally{try{if(!_n&&null!=o.return&&(a=o.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(t,o)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?p(e,t):void 0}}(t,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=m[0],d=m[1];return React.createElement(React.Fragment,null,React.createElement(n.BaseControl,{className:"dlx-photo-block__css-gram-button-group"},React.createElement("h3",null,(0,a.__)("Select a CSS Filter","photo-block")),React.createElement(n.ButtonGroup,null,b.map((function(e){return React.createElement(h,{key:e.value,isSelected:f===e.value,onClick:function(){c({cssGramFilter:e.value}),d(e.value)},label:e.label,filter:e.value,fullUrl:s.url,imageDimensions:u})})))))}},1542:function(e,t,o){var n=o(5609),r=(o(6483),o(9307)),a=o(5736),l=(o(4184),o(4797)),c=o(1552);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function u(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?u(Object(o),!0).forEach((function(t){h(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function h(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}t.Z=function(e){var t=e.attributes,o=e.setAttributes;return e.anchorRef,function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}((0,r.useContext)(l.Z)),t.mediaLinkType,t.mediaLinkTitle,t.mediaLinkUrl,React.createElement(React.Fragment,null,React.createElement(n.BaseControl,{className:"dlx-photo-block__drop-shadow-control"},React.createElement("h3",{className:"dlx-photo-block__drop-shadow-control__title"},(0,a.__)("Drop Shadow","photo-block")),React.createElement("div",{className:"dlx-photo-block__drop-shadow-control__settings"},React.createElement("div",{className:"dlx-photo-block__drop-shadow-control__settings__color"},React.createElement(c.Z,{label:(0,a.__)("Color","photo-block"),value:t.photoDropShadow.color,valueOpacity:1,onChange:function(e,n){o({photoDropShadow:s(s({},t.photoDropShadow),{},{color:n})})},onOpacityChange:function(e){o({photoDropShadow:s(s({},t.photoDropShadow),{},{opacity:e})})},slug:"photoDropShadow",defaultColors:photoBlock.palette,defaultColor:"#000000",alpha:!0})),React.createElement("div",{className:"dlx-photo-block__drop-shadow-control__settings__offset"},React.createElement("div",{className:"dlx-photo-block__drop-shadow-control__settings__offset__wrapper"},React.createElement("div",{className:"dlx-photo-block__drop-shadow-control__settings__offset__x"},React.createElement(n.TextControl,{label:(0,a.__)("X Offset","photo-block"),value:t.photoDropShadow.horizontal,type:"number",onChange:function(e){o({photoDropShadow:s(s({},t.photoDropShadow),{},{horizontal:e})})}})),React.createElement("div",{className:"dlx-photo-block__drop-shadow-control__settings__offset__y"},React.createElement(n.TextControl,{label:(0,a.__)("Y Offset","photo-block"),value:t.photoDropShadow.vertical,type:"number",onChange:function(e){o({photoDropShadow:s(s({},t.photoDropShadow),{},{vertical:e})})}})))),React.createElement("div",{className:"dlx-photo-block__drop-shadow-control__settings__blur"},React.createElement("div",{className:"dlx-photo-block__drop-shadow-control__settings__blur__wrapper"},React.createElement(n.RangeControl,{label:(0,a.__)("Blur","photo-block"),value:t.photoDropShadow.blur,onChange:function(e){o({photoDropShadow:s(s({},t.photoDropShadow),{},{blur:e})})},min:0,max:100,step:1}))),React.createElement("div",{className:"dlx-photo-block__drop-shadow-control__settings__spread"},React.createElement("div",{className:"dlx-photo-block__drop-shadow-control__settings__spread__wrapper"},React.createElement(n.RangeControl,{label:(0,a.__)("Spread","photo-block"),value:t.photoDropShadow.spread,onChange:function(e){o({photoDropShadow:s(s({},t.photoDropShadow),{},{spread:e})})},min:-25,max:25,step:1}))),React.createElement("div",{className:"dlx-photo-block__drop-shadow-control__settings__inset"},React.createElement(n.ToggleControl,{label:(0,a.__)("Inset","photo-block"),checked:t.photoDropShadow.inset,onChange:function(e){o({photoDropShadow:s(s({},t.photoDropShadow),{},{inset:e})})}})))))}},6974:function(e,t,o){o.d(t,{Z:function(){return B}});var n=o(5609),r=o(6483),a=o(6472);const l=(0,a.Z)("Link2Off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);var c=o(5283);const i=(0,a.Z)("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]);var u=o(7235);const s=(0,a.Z)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);var h=o(9307),p=o(5736),b=o(4184),m=o.n(b),f=o(4797),d=o(9196),g=o.n(d),_=o(5697),v=o.n(_),y=o(9630),k=o(5158),w=o(4333),E=o(2027),R=o(7764),S=o(9035),x=o(3766),O=o(9194),C=o(802);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function j(){j=function(){return e};var e={},t=Object.prototype,o=t.hasOwnProperty,n=Object.defineProperty||function(e,t,o){e[t]=o.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function i(e,t,o){return Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,o){return e[t]=o}}function u(e,t,o,r){var a=t&&t.prototype instanceof p?t:p,l=Object.create(a.prototype),c=new S(r||[]);return n(l,"_invoke",{value:k(e,o,c)}),l}function s(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h={};function p(){}function b(){}function m(){}var f={};i(f,a,(function(){return this}));var d=Object.getPrototypeOf,g=d&&d(d(x([])));g&&g!==t&&o.call(g,a)&&(f=g);var _=m.prototype=p.prototype=Object.create(f);function v(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(n,a,l,c){var i=s(e[n],e,a);if("throw"!==i.type){var u=i.arg,h=u.value;return h&&"object"==P(h)&&o.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,l,c)}),(function(e){r("throw",e,l,c)})):t.resolve(h).then((function(e){u.value=e,l(u)}),(function(e){return r("throw",e,l,c)}))}c(i.arg)}var a;n(this,"_invoke",{value:function(e,o){function n(){return new t((function(t,n){r(e,o,t,n)}))}return a=a?a.then(n,n):n()}})}function k(e,t,o){var n="suspendedStart";return function(r,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw a;return{value:void 0,done:!0}}for(o.method=r,o.arg=a;;){var l=o.delegate;if(l){var c=w(l,o);if(c){if(c===h)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if("suspendedStart"===n)throw n="completed",o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n="executing";var i=s(e,t,o);if("normal"===i.type){if(n=o.done?"completed":"suspendedYield",i.arg===h)continue;return{value:i.arg,done:o.done}}"throw"===i.type&&(n="completed",o.method="throw",o.arg=i.arg)}}}function w(e,t){var o=t.method,n=e.iterator[o];if(void 0===n)return t.delegate=null,"throw"===o&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==o&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+o+"' method")),h;var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:O}}function O(){return{value:void 0,done:!0}}return b.prototype=m,n(_,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:b,configurable:!0}),b.displayName=i(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,i(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},v(y.prototype),i(y.prototype,l,(function(){return this})),e.AsyncIterator=y,e.async=function(t,o,n,r,a){void 0===a&&(a=Promise);var l=new y(u(t,o,n,r),a);return e.isGeneratorFunction(o)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},v(_),i(_,c,"Generator"),i(_,a,(function(){return this})),i(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),o=[];for(var n in t)o.push(n);return o.reverse(),function e(){for(;o.length;){var n=o.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(o,n){return l.type="throw",l.arg=e,t.next=o,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),i=o.call(a,"finallyLoc");if(c&&i){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var l=a?a.completion:{};return l.type=e,l.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),R(o),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var n=o.completion;if("throw"===n.type){var r=n.arg;R(o)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:x(e),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=void 0),h}},e}function L(e,t,o,n,r,a,l){try{var c=e[a](l),i=c.value}catch(e){return void o(e)}c.done?t(i):Promise.resolve(i).then(n,r)}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,_x,a,l=[],_n=!0,c=!1;try{if(_x=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;_n=!1}else for(;!(_n=(n=_x.call(o)).done)&&(l.push(n.value),l.length!==t);_n=!0);}catch(e){c=!0,r=e}finally{try{if(!_n&&null!=o.return&&(a=o.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?T(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var A=function e(t){var o=(0,d.createRef)(),a=t.restEndpoint,l=t.restNonce,c=(0,w.useInstanceId)(e,"app"),i=N((0,d.useState)([]),2),u=i[0],h=i[1],b=N((0,d.useState)(!1),2),f=b[0],_=b[1],v=N((0,d.useState)(!1),2),P=(v[0],v[1]),T=N((0,d.useState)(null),2),A=T[0],D=T[1],B=N((0,d.useState)(null),2),I=B[0],M=B[1],Z=N((0,d.useState)(null),2),z=Z[0],F=Z[1],H=N((0,d.useState)(null),2),q=H[0],U=H[1],G=N((0,d.useState)(""),2),W=G[0],V=(G[1],N((0,d.useState)(""),2)),$=V[0],Y=V[1],J=N((0,d.useState)(t.savedValue),2),K=J[0],X=J[1],Q=N((0,d.useState)("url-input-control-".concat(c)),2),ee=Q[0],te=(Q[1],N((0,d.useState)(!1),2)),oe=te[0],ne=te[1],re=(0,w.useDebounce)((function(e){ae(e)}),200);(0,d.useEffect)((function(){if(""!==K){Y(K);var e={permalink:K,label:(0,r.filterURLForDisplay)(K),slug:"",value:""};return X(""),void F(e)}""!==$&&re($)}),[$]),(0,d.useEffect)((function(){o.current&&t.hasInititialFocus&&o.current.focus()}),[o]);var ae=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=!(null!==(e=t)&&void 0!==e&&e.length);if(t=(t=t.toString()).trim(),(0,r.isURL)(t))return h([]),_(!1),void ne(!1);if(!o&&t.length<2)return h([]),_(!1),void ne(!1);P(!0),M(null),ne(!0);var n,c=new AbortController;null!==A&&A.abort(),D(c),(n=j().mark((function e(){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ne(!0),e.next=4,(0,C.Z)(l,{signal:c.signal,search:encodeURIComponent(t)},a,"POST").then((function(e){D(null);var t=e.data.data;h(t),_(!0)})).catch((function(e){})).then((function(){ne(!1)}));case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})),function(){var e=this,t=arguments;return new Promise((function(o,r){var a=n.apply(e,t);function l(e){L(a,o,r,l,c,"next",e)}function c(e){L(a,o,r,l,c,"throw",e)}l(void 0)}))})()};return g().createElement("div",{className:"photo-block-url-input"},g().createElement("div",{className:"photo-block-pub-url-input__wrapper"},g().createElement("div",{className:"photo-block-pub-url-input__input-wrapper"},null!==z&&g().createElement("div",{className:"photo-block-pub-url-input__suggestion"},g().createElement("div",{className:"photo-block-pub-url-input__suggestion-item"},g().createElement("span",{className:"photo-block-pub-url-input__suggestion-label"},g().createElement(n.Button,{variant:"link",icon:g().createElement(s,null),iconSize:18,iconPosition:"right",label:(0,p.__)("Open in new tab","photo-block"),href:z.permalink,target:"_blank",rel:"noopener noreferrer"},(0,r.filterURLForDisplay)(z.permalink))),g().createElement(n.Button,{variant:"secondary",icon:g().createElement(E.Z,null),iconSize:18,label:(0,p.__)("Remove Current Selection","photo-block"),onClick:function(){F(null)}}))),null===z&&g().createElement("div",{className:"photo-block-pub-url-search-wrapper"},g().createElement("input",{type:"text",placeholder:(0,p.__)("Paste in URL or search","photo-block"),id:ee,className:"photo-block-pub-url-input__input",value:$,onChange:function(e){Y(e.target.value)},onFocus:function(e){e.preventDefault(),null!==I||""===$||(0,r.isURL)($)||re($)},onKeyDown:function(e){if(!f&&!u.length||oe){switch(e.keyCode){case y.UP:0!==e.target.selectionStart&&(e.preventDefault(),e.target.setSelectionRange(0,0));break;case y.DOWN:$!==e.target.selectionStart&&(e.preventDefault(),e.target.setSelectionRange($.length,$.length));break;case y.ENTER:e.preventDefault(),re(e.target.value)}return null}switch(e.keyCode){case y.UP:e.preventDefault();var n=q?q-1:u.length-1;U(n),M(u[n].value);break;case y.DOWN:if(e.preventDefault(),!f&&u.length>0)return _(!0),U(0),void M(u[0].value);var r=null===I||q===u.length-1?0:q+1;U(r),M(u[r].value);break;case y.TAB:null!==I&&(0,k.speak)((0,p.__)("Link selected.","photo-block"));break;case y.ENTER:e.preventDefault(),_(!1),null!==I&&(t.onItemSelect(e,(a=I,null==(l=u.find((function(e){return e.value===a})))?null:l)),o.current.focus())}var a,l},"aria-label":t.label?void 0:(0,p.__)("Page","photo-block"),"aria-autocomplete":"list",ref:o}),oe&&g().createElement("div",{className:"photo-block-pub-url-input__loading"},g().createElement(n.Spinner,null)),!oe&&!(0,r.isURL)($)&&g().createElement(g().Fragment,null,g().createElement(n.Button,{className:"photo-block-pub-url-input__search-button",icon:g().createElement(R.Z,null),iconSize:18,label:(0,p.__)("Search for a Page","photo-block"),onClick:function(){_(!0)}})),!oe&&(0,r.isURL)($)&&g().createElement(g().Fragment,null,g().createElement(n.Button,{className:"photo-block-pub-url-input__apply-button",icon:g().createElement(S.Z,null),iconSize:18,label:(0,p.__)("Apply Link","photo-block"),onClick:function(e){var o={permalink:$,label:(0,r.filterURLForDisplay)($),slug:"",value:""};F(o),t.onItemSelect(e,$)}}))))),f&&!!u.length&&g().createElement("div",{className:"photo-block-suggestions-wrapper"},g().createElement("div",{role:"listbox",id:W,className:"photo-block-url-input__suggestions"},u.map((function(e,o){var r="photo-block-suggested-value-".concat(e.value),a=m()("photo-block-url-input__suggestion",{"is-selected":e.value===I});return g().createElement(n.Button,{key:r,id:r,value:e.value,role:"option","aria-selected":e.value===I,className:a,onClick:function(n){M(parseInt(n.target.value)),U(o),F(e),_(!1),t.onItemSelect(n,e.permalink)},icon:"post"===e.type?g().createElement(x.Z,null):g().createElement(O.Z,null),iconSize:2,iconPosition:"left"},g().createElement("span",{className:"photo-block-search-item"},g().createElement("span",{className:"photo-block-search-item-title"},e.label),g().createElement("span",{className:"photo-block-search-item-info"},e.permalink)))})))))};A.defaultProps={label:(0,p.__)("Page","photo-block"),onItemSelect:function(){},hasInititialFocus:!1,itemIcon:g().createElement(g().Fragment,null)},A.propTypes={restEndpoint:v().string.isRequired,restNonce:v().string.isRequired,label:v().string.isRequired,onItemSelect:v().func.isRequired,hasInititialFocus:v().bool.isRequired,itemIcon:v().element.isRequired};var D=A,B=function(e){var t=e.attributes,o=e.setAttributes,r=e.anchorRef;!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}((0,h.useContext)(f.Z));var a=t.mediaLinkType,b=t.mediaLinkTitle,d=t.mediaLinkUrl,g=t.lightboxCaption,_=t.lightboxEnabled,v=t.lightboxShowCaption;return React.createElement(React.Fragment,null,React.createElement(n.Popover,{position:"bottom center",className:"dlx-photo-block__media-link-popover",expandOnMobile:!0,focusOnMount:!0,onClose:function(){e.onClose()},anchor:r},React.createElement("div",{className:"dlx-photo-block__media-link-container"},React.createElement("h2",null,(0,p.__)("Select where to link to.","photo-block")),React.createElement(n.ButtonGroup,{className:"dlx-photo-block__media-link-button-group"},React.createElement(n.Button,{variant:"secondary",icon:React.createElement(l,null),className:m()({"is-pressed":"none"===a}),onClick:function(){o({mediaLinkType:"none"})}},React.createElement("span",{className:"dlx-photo-block__media-link-button-text"},(0,p.__)("No link","photo-block"))),React.createElement(n.Button,{variant:"secondary",icon:React.createElement(c.Z,null),className:m()({"is-pressed":"image"===a}),onClick:function(){o({mediaLinkType:"image"})}},(0,p.__)("The full size photo","photo-block")),React.createElement(n.Button,{variant:"secondary",icon:React.createElement(i,null),className:m()({"is-pressed":"page"===a}),onClick:function(){o({mediaLinkType:"page"})}},(0,p.__)("The photo's page","photo-block")),React.createElement(n.Button,{variant:"secondary",icon:React.createElement(u.Z,null),className:m()({"is-pressed":"custom"===a}),onClick:function(){o({mediaLinkType:"custom"})}},(0,p.__)("Custom link","photo-block"))),"custom"===a&&React.createElement(React.Fragment,null,React.createElement(D,{restNonce:photoBlock.restNonce,restEndpoint:photoBlock.restUrl+"/search/pages",itemIcon:React.createElement(u.Z,null),onItemSelect:function(e,t){o({mediaLinkUrl:t})},savedValue:d})),"image"===a&&React.createElement(React.Fragment,null,React.createElement("div",{className:"pdlx-photo-block__media-link-media-external"},React.createElement(n.Button,{variant:"link",icon:React.createElement(s,null),iconSize:18,iconPosition:"right",label:(0,p.__)("Open in new tab","archive-pages-pro"),href:t.photo.full,target:"_blank",rel:"noopener noreferrer"},(0,p.__)("Media File","photo-block")))),"page"===a&&React.createElement(React.Fragment,null,React.createElement("div",{className:"pdlx-photo-block__media-link-media-page"},React.createElement(n.Button,{variant:"link",icon:React.createElement(s,null),iconSize:18,iconPosition:"right",label:(0,p.__)("Open in new tab","archive-pages-pro"),href:t.photo.attachment_link,target:"_blank",rel:"noopener noreferrer"},(0,p.__)("Attachment Page","photo-block")))),"image"===a&&React.createElement(React.Fragment,null,React.createElement(n.PanelBody,{title:(0,p.__)("Lightbox","photo-block"),initialOpen:!1},React.createElement(n.PanelRow,null,React.createElement(n.ToggleControl,{label:(0,p.__)("Enable lightbox","photo-block"),checked:_,onChange:function(e){o({lightboxEnabled:e})},help:(0,p.__)("Popup the full size photo in a lightbox when clicked.","photo-block")})),_&&React.createElement(React.Fragment,null,React.createElement(n.PanelRow,null,React.createElement(n.ToggleControl,{label:(0,p.__)("Show caption","photo-block"),checked:v,onChange:function(e){o({lightboxShowCaption:e})}})),v&&React.createElement(n.PanelRow,null,React.createElement(n.TextControl,{label:(0,p.__)("Custom Caption (optional)","photo-block"),value:g,onChange:function(e){o({lightboxCaption:e})},help:(0,p.__)("Leave blank to use the photo's caption.","photo-block")}))))),"none"!==a&&React.createElement(n.PanelBody,{title:(0,p.__)("Advanced","photo-block"),initialOpen:!1},React.createElement(n.PanelRow,null,React.createElement(n.ToggleControl,{label:(0,p.__)("Open in new tab","photo-block"),checked:t.mediaLinkNewTab,onChange:function(e){""===t.mediaLinkRel&&e&&o({mediaLinkRel:"noopener noreferrer"}),"noopener noreferrer"!==t.mediaLinkRel||e||o({mediaLinkRel:""}),o({mediaLinkNewTab:e})}})),React.createElement(n.PanelRow,null,React.createElement(n.TextControl,{label:(0,p.__)("Link Title","photo-block"),value:b,onChange:function(e){o({mediaLinkTitle:e})},help:(0,p.__)("The link title attribute is for SEO and accessibility purposes. It is used to describe the link.","photo-block")})),React.createElement(n.PanelRow,null,React.createElement(n.TextControl,{label:(0,p.__)("Link Rel","photo-block"),value:t.mediaLinkRel,onChange:function(e){o({mediaLinkRel:e})},help:(0,p.__)("The link rel attribute is for SEO and accessibility purposes. It is used to describe the relationship between the current document and the linked document.","photo-block")})),React.createElement(n.PanelRow,null,React.createElement(n.TextControl,{label:(0,p.__)("Link Class","photo-block"),value:t.mediaLinkClass,onChange:function(e){o({mediaLinkClass:e})},help:(0,p.__)("Add a CSS class to the link for styling purposes.","photo-block")})),React.createElement(n.PanelRow,null,React.createElement(n.TextControl,{label:(0,p.__)("Link Anchor ID","photo-block"),value:t.mediaLinkAnchorId,onChange:function(e){o({mediaLinkAnchorId:e})},help:(0,p.__)("This is the ID for the link, which you can use to link to the photo with an anchor. The ID for each link should be unique.","photo-block")}))))))}},626:function(e,t,o){var n=o(9196),r=o.n(n),a=o(5697),l=o.n(a),c=o(5609),i=o(970);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},s.apply(this,arguments)}function h(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function p(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?h(Object(o),!0).forEach((function(t){b(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function b(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,_x,a,l=[],_n=!0,c=!1;try{if(_x=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;_n=!1}else for(;!(_n=(n=_x.call(o)).done)&&(l.push(n.value),l.length!==t);_n=!0);}catch(e){c=!0,r=e}finally{try{if(!_n&&null!=o.return&&(a=o.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var d=function(e){var t=e.uniqueId,o=e.initialOpen,a=void 0===o||o,l=e.id,u=void 0===l?"":l,h=m((0,n.useState)(a),2),f=h[0],d=h[1],g=m((0,i.Z)(),1)[0];return(0,n.useEffect)((function(){var e=localStorage.getItem("photo-block-panel-body-".concat(t));if(e){var o=JSON.parse(e);if(o["".concat(u)]){var n=o["".concat(u)].isOpen;d(n)}}}),[g]),r().createElement(c.PanelBody,s({},e,{onToggle:function(e){var o=localStorage.getItem("photo-block-panel-body-".concat(t)),n=b({},"".concat(u),{isOpen:e});o&&(n=p(p({},JSON.parse(o)),{},b({},"".concat(u),{isOpen:e}))),localStorage.setItem("photo-block-panel-body-".concat(t),JSON.stringify(n))},initialOpen:f}),e.children)};d.defaultProps={uniqueId:"",initialOpen:!0,id:""},d.propTypes={uniqueId:l().string.isRequired,initialOpen:l().bool,id:l().string.isRequired},t.Z=d},2711:function(e,t,o){var n=o(5609),r=(o(2175),o(5736)),a=o(5697),l=o.n(a),c=o(2893),i=function(e){var t=e.attributes,o=e.setAttributes,a=t.htmlAnchor,l=t.figureCSSClasses,i=t.imageCSSClasses,u=t.skipLazyLoading,s=t.imageProtectionEnabled,h=t.hideOnMobile,p=t.hideOnTablet,b=t.hideOnDesktop;return React.createElement(React.Fragment,null,React.createElement(n.PanelRow,null,React.createElement(n.TextControl,{label:(0,r.__)("HTML Anchor","photo-block"),value:a,onChange:function(e){o({htmlAnchor:e})},help:(0,r.__)('Enter a word or two — without spaces — to make a unique web address just for this photo, called an "anchor." Then, you\'ll be able to link directly to this photo on your page.',"photo-block")})),React.createElement(n.PanelRow,null,React.createElement(n.TextControl,{label:(0,r.__)("Figure CSS Class(es)","photo-block"),value:l,onChange:function(e){o({figureCSSClasses:e})},help:(0,r.__)("Add CSS class(es) directly to the figure tag, which wraps the image.","photo-block")})),React.createElement(n.PanelRow,null,React.createElement(n.TextControl,{label:(0,r.__)("Image CSS Class(es)","photo-block"),value:i,onChange:function(e){o({imageCSSClasses:e})},help:(0,r.__)("Add CSS class(es) directly to the image tag.","photo-block")})),React.createElement(n.PanelRow,null,React.createElement(c.Z,{attributes:t,setAttributes:o})),React.createElement(n.PanelRow,null,React.createElement(n.ToggleControl,{label:(0,r.__)("Skip Lazy Loading","photo-block"),checked:u,onChange:function(e){o({skipLazyLoading:e})},help:(0,r.__)("Set a flag which will signal that the image should not be lazy loaded.","photo-block")})),React.createElement(n.PanelRow,null,React.createElement(n.ToggleControl,{label:(0,r.__)("Enable Image Protection","photo-block"),checked:s,onChange:function(e){o({imageProtectionEnabled:e})},help:(0,r.__)("Prevent this photo from being downloaded by using the right+click button.","photo-block")})),React.createElement(n.PanelRow,null,React.createElement(n.ToggleControl,{label:(0,r.__)("Hide on Mobile","photo-block"),checked:h,onChange:function(e){o({hideOnMobile:e})},help:(0,r.__)("Hide this photo on mobile devices.","photo-block")})),React.createElement(n.PanelRow,null,React.createElement(n.ToggleControl,{label:(0,r.__)("Hide on Tablet","photo-block"),checked:p,onChange:function(e){o({hideOnTablet:e})},help:(0,r.__)("Hide this photo on tablet devices.","photo-block")})),React.createElement(n.PanelRow,null,React.createElement(n.ToggleControl,{label:(0,r.__)("Hide on Desktop","photo-block"),checked:b,onChange:function(e){o({hideOnDesktop:e})},help:(0,r.__)("Hide this photo on desktop devices.","photo-block")})))};i.defaultProps={attributes:{},setAttributes:function(){}},i.propTypes={attributes:l().object},t.Z=i},8931:function(e,t,o){o.d(t,{Z:function(){return C}});var n=o(5609),r=o(2175),a=o(5736),l=o(6472);const c=(0,l.Z)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),i=(0,l.Z)("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);var u=o(243),s=o(7564),h=o(5697),p=o.n(h),b=o(1552),m=o(1542),f=o(4280),d=o(6429),g=o(970),_=o(2179),v=o(1828),y=o(626);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function w(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function E(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?w(Object(o),!0).forEach((function(t){R(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):w(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function R(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==k(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,"string");if("object"!==k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===k(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var x=["px","em","rem","%","vh"],O=function(e){var t,o,l=e.attributes,h=e.setAttributes,p=l.uniqueId,k=l.photoOpacity,w=l.photoBlur,R=l.photoObjectFit,O=l.photoObjectPosition,C=l.photoObjectPositionCustom,P=l.photoDropShadow,j=l.photoBackgroundColor,L=l.containerHeight,N=l.containerMaxWidth,T=l.containerMaxHeight,A=l.containerMinWidth,D=l.containerMinHeight,B=l.photoPaddingSize,I=l.photoMarginSize,M=l.photoBorderRadius,Z=l.photoBorder,z=l.containerWidth,F=(t=(0,g.Z)("Desktop"),o=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,_x,a,l=[],_n=!0,c=!1;try{if(_x=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;_n=!1}else for(;!(_n=(n=_x.call(o)).done)&&(l.push(n.value),l.length!==t);_n=!0);}catch(e){c=!0,r=e}finally{try{if(!_n&&null!=o.return&&(a=o.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(t,o)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?S(e,t):void 0}}(t,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],H=React.createElement(React.Fragment,null,React.createElement(y.Z,{title:(0,a.__)("Image Styles","photo-block"),icon:React.createElement(c,null),className:"photo-block__inspector-panel",id:"photo-block__photo-image-styles",uniqueId:p,initialOpen:!0,scrollAfterOpen:!1},React.createElement(b.Z,{value:j,key:"background-color-photo",onChange:function(e,t){h({photoBackgroundColor:t})},label:(0,a.__)("Background Color","highlight-and-share"),defaultColors:photoBlock.palette,defaultColor:"transparent",slug:"background-color-photo"}),React.createElement(n.RangeControl,{label:(0,a.__)("Opacity","photo-block"),value:k,onChange:function(e){h({photoOpacity:e})},min:0,max:1,step:.01}),React.createElement(n.RangeControl,{label:(0,a.__)("Blur","photo-block"),value:w,onChange:function(e){h({photoBlur:e})},min:0,max:10,step:.01}),React.createElement(n.ToggleControl,{label:(0,a.__)("Enable Dropshadow","photo-block"),checked:P.enabled,onChange:function(e){h({photoDropShadow:E(E({},P),{},{enabled:e})})}}),P.enabled&&React.createElement(m.Z,{label:(0,a.__)("Drop Shadow","photo-block"),attributes:l,setAttributes:h})),React.createElement(y.Z,{title:(0,a.__)("CSS Styles","photo-block"),className:"photo-block__inspector-panel",icon:React.createElement(i,null),id:"photo-block__photo-css-gram",uniqueId:p,initialOpen:!1,scrollAfterOpen:!1},React.createElement(f.Z,{attributes:l,setAttributes:h})),React.createElement(y.Z,{title:(0,a.__)("Padding, Margin, and Border","photo-block"),initialOpen:!1,icon:React.createElement(u.Z,null),className:"photo-block__inspector-panel",id:"photo-block__photo-dimensions-styles",uniqueId:p,scrollAfterOpen:!1},React.createElement(_.Z,{label:(0,a.__)("Photo Padding","photo-block"),values:B,onValuesChange:function(e){h({photoPaddingSize:e})},labelTop:(0,a.__)("Top Padding","photo-block"),labelRight:(0,a.__)("Right Padding","photo-block"),labelBottom:(0,a.__)("Bottom Padding","photo-block"),labelLeft:(0,a.__)("Left Padding","photo-block"),labelAll:(0,a.__)("Change Padding","photo-block")}),React.createElement(_.Z,{label:(0,a.__)("Photo Margin","photo-block"),values:I,onValuesChange:function(e){h({photoMarginSize:e})},labelTop:(0,a.__)("Top Margin","photo-block"),labelRight:(0,a.__)("Right Margin","photo-block"),labelBottom:(0,a.__)("Bottom Margin","photo-block"),labelLeft:(0,a.__)("Left Margin","photo-block"),labelAll:(0,a.__)("Change Margin","photo-block"),allowNegatives:!0}),React.createElement(v.Z,{label:(0,a.__)("Photo Border","photo-block"),values:Z,onValuesChange:function(e){h({photoBorder:e})},labelTop:(0,a.__)("Top Border","photo-block"),labelRight:(0,a.__)("Right Border","photo-block"),labelBottom:(0,a.__)("Bottom Border","photo-block"),labelLeft:(0,a.__)("Left Border","photo-block"),labelAll:(0,a.__)("Change Border","photo-block")}),React.createElement(_.Z,{label:(0,a.__)("Photo Border Radius","photo-block"),values:M,onValuesChange:function(e){h({photoBorderRadius:e})},labelTop:(0,a.__)("Top-left Radius","photo-block"),labelRight:(0,a.__)("Top-right Radius","photo-block"),labelBottom:(0,a.__)("Bottom-right Radius","photo-block"),labelLeft:(0,a.__)("Bottom-left Radius","photo-block"),labelAll:(0,a.__)("Change Border Radius","photo-block"),isBorderRadius:!0})),React.createElement(y.Z,{title:(0,a.__)("Container Sizing","photo-block"),initialOpen:!1,icon:React.createElement(s.Z,null),className:"photo-block__inspector-panel",id:"photo-block__photo-container-styles",uniqueId:p,scrollAfterOpen:!1},React.createElement(n.PanelRow,null,React.createElement(n.SelectControl,{label:(0,a.__)("Object Fit","photo-block"),value:R,options:[{label:(0,a.__)("None","photo-block"),value:"none"},{label:(0,a.__)("Inherit","photo-block"),value:"inherit"},{label:(0,a.__)("Fill","photo-block"),value:"fill"},{label:(0,a.__)("Contain","photo-block"),value:"contain"},{label:(0,a.__)("Cover","photo-block"),value:"cover"},{label:(0,a.__)("Scale Down","photo-block"),value:"scale-down"}],onChange:function(e){h({photoObjectFit:e})},help:(0,a.__)("How the image should be resized to fit its container.","photo-block")})),"none"!==R&&React.createElement(n.PanelRow,null,React.createElement(n.SelectControl,{label:(0,a.__)("Object Position","photo-block"),value:O,options:[{label:(0,a.__)("None","photo-block"),value:"none"},{label:(0,a.__)("Top","photo-block"),value:"top"},{label:(0,a.__)("Right","photo-block"),value:"right"},{label:(0,a.__)("Bottom","photo-block"),value:"bottom"},{label:(0,a.__)("Left","photo-block"),value:"left"},{label:(0,a.__)("Custom","photo-block"),value:"custom"}],onChange:function(e){h({photoObjectPosition:e})},help:(0,a.__)("How the image should be positioned inside the container.","photo-block")})),"none"!==R&&"custom"===O&&React.createElement(n.PanelRow,null,React.createElement(n.TextControl,{label:(0,a.__)("Custom Object Position","photo-block"),value:C,onChange:function(e){h({photoObjectPositionCustom:e})},help:(0,a.__)("Enter a custom object position in CSS format.","photo-block")})),React.createElement("div",{className:"dlx-photo-block__container-width"},React.createElement(d.Z,{label:(0,a.__)("Width","photo-block"),values:z,screenSize:F,onValuesChange:function(e){h({containerWidth:e})}})),React.createElement("div",{className:"dlx-photo-block__container-height"},React.createElement(d.Z,{label:(0,a.__)("Height","photo-block"),values:L,screenSize:F,units:x,onValuesChange:function(e){h({containerHeight:e})}})),React.createElement("div",{className:"dlx-photo-block__container-min-width"},React.createElement(d.Z,{label:(0,a.__)("Min Width","photo-block"),values:A,screenSize:F,onValuesChange:function(e){h({containerMinWidth:e})}})),React.createElement("div",{className:"dlx-photo-block__container-min-height"},React.createElement(d.Z,{label:(0,a.__)("Min Height","photo-block"),values:D,screenSize:F,units:x,onValuesChange:function(e){h({containerMinHeight:e})}})),React.createElement("div",{className:"dlx-photo-block__container-max-width"},React.createElement(d.Z,{label:(0,a.__)("Max Width","photo-block"),values:N,screenSize:F,onValuesChange:function(e){h({containerMaxWidth:e})}})),React.createElement("div",{className:"dlx-photo-block__containermax-height"},React.createElement(d.Z,{label:(0,a.__)("Max Height","photo-block"),values:T,screenSize:F,units:x,onValuesChange:function(e){h({containerMaxHeight:e})}}))));return React.createElement(r.InspectorControls,null,H)};O.defaultProps={attributes:{},setAttributes:function(){}},O.propTypes={attributes:p().object};var C=O},679:function(e,t,o){o.r(t),o.d(t,{default:function(){return D}});var n=o(9307),r=o(5609),a=o(2175),l=o(5736),c=o(5283),i=o(1408),u=o(7587),s=o(6472);const h=(0,s.Z)("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]),p=(0,s.Z)("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);var b=o(853),m=o(1787),f=o(4184),d=o.n(f),g=o(4797),_=o(802),v=o(6974),y=o(970),k=o(626),w=o(8931),E=o(2711),R=o(4014);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},x.apply(this,arguments)}function O(){O=function(){return e};var e={},t=Object.prototype,o=t.hasOwnProperty,n=Object.defineProperty||function(e,t,o){e[t]=o.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function i(e,t,o){return Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,o){return e[t]=o}}function u(e,t,o,r){var a=t&&t.prototype instanceof p?t:p,l=Object.create(a.prototype),c=new x(r||[]);return n(l,"_invoke",{value:k(e,o,c)}),l}function s(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h={};function p(){}function b(){}function m(){}var f={};i(f,a,(function(){return this}));var d=Object.getPrototypeOf,g=d&&d(d(C([])));g&&g!==t&&o.call(g,a)&&(f=g);var _=m.prototype=p.prototype=Object.create(f);function v(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(n,a,l,c){var i=s(e[n],e,a);if("throw"!==i.type){var u=i.arg,h=u.value;return h&&"object"==S(h)&&o.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,l,c)}),(function(e){r("throw",e,l,c)})):t.resolve(h).then((function(e){u.value=e,l(u)}),(function(e){return r("throw",e,l,c)}))}c(i.arg)}var a;n(this,"_invoke",{value:function(e,o){function n(){return new t((function(t,n){r(e,o,t,n)}))}return a=a?a.then(n,n):n()}})}function k(e,t,o){var n="suspendedStart";return function(r,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw a;return{value:void 0,done:!0}}for(o.method=r,o.arg=a;;){var l=o.delegate;if(l){var c=w(l,o);if(c){if(c===h)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if("suspendedStart"===n)throw n="completed",o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n="executing";var i=s(e,t,o);if("normal"===i.type){if(n=o.done?"completed":"suspendedYield",i.arg===h)continue;return{value:i.arg,done:o.done}}"throw"===i.type&&(n="completed",o.method="throw",o.arg=i.arg)}}}function w(e,t){var o=t.method,n=e.iterator[o];if(void 0===n)return t.delegate=null,"throw"===o&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==o&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+o+"' method")),h;var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,h;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return b.prototype=m,n(_,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:b,configurable:!0}),b.displayName=i(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,i(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},v(y.prototype),i(y.prototype,l,(function(){return this})),e.AsyncIterator=y,e.async=function(t,o,n,r,a){void 0===a&&(a=Promise);var l=new y(u(t,o,n,r),a);return e.isGeneratorFunction(o)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},v(_),i(_,c,"Generator"),i(_,a,(function(){return this})),i(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),o=[];for(var n in t)o.push(n);return o.reverse(),function e(){for(;o.length;){var n=o.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=C,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(o,n){return l.type="throw",l.arg=e,t.next=o,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),i=o.call(a,"finallyLoc");if(c&&i){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var l=a?a.completion:{};return l.type=e,l.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),R(o),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var n=o.completion;if("throw"===n.type){var r=n.arg;R(o)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:C(e),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=void 0),h}},e}function C(e,t,o,n,r,a,l){try{var c=e[a](l),i=c.value}catch(e){return void o(e)}c.done?t(i):Promise.resolve(i).then(n,r)}function P(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function j(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?P(Object(o),!0).forEach((function(t){L(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):P(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function L(e,t,o){return(t=function(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,"string");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===S(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,_x,a,l=[],_n=!0,c=!1;try{if(_x=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;_n=!1}else for(;!(_n=(n=_x.call(o)).done)&&(l.push(n.value),l.length!==t);_n=!0);}catch(e){c=!0,r=e}finally{try{if(!_n&&null!=o.return&&(a=o.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?T(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var A=(0,n.forwardRef)((function(e,t){var o=e.attributes,s=e.setAttributes,f=e.innerBlockProps,S=o.uniqueId,P=o.photo,L=o.imageSize,T=o.imageDimensions,A=o.imageSizePercentage,D=o.photoOpacity,B=o.photoBlur,I=o.photoObjectFit,M=o.photoObjectPosition,Z=o.photoObjectPositionCustom,z=o.photoDropShadow,F=o.photoBackgroundColor,H=o.cssGramFilter,q=(o.photoMaximumWidth,o.containerWidth),U=o.containerHeight,G=o.containerMaxWidth,W=o.containerMaxHeight,V=o.containerMinWidth,$=o.containerMinHeight,Y=o.photoPaddingSize,J=o.photoMarginSize,K=o.photoBorderRadius,X=o.photoBorder,Q=(o.skipLazyLoading,o.imageProtectionEnabled,P.url),ee=(P.id,P.width),te=P.height,oe=N((0,n.useState)(!0),2),ne=oe[0],re=oe[1],ae=N((0,n.useState)(null),2),le=ae[0],ce=ae[1],ie=N((0,n.useState)(null),2),ue=ie[0],se=ie[1],he=N((0,n.useState)("settings"),2),pe=(he[0],he[1]),be=N((0,n.useState)(!1),2),me=be[0],fe=be[1],de=N((0,n.useState)(!1),2),ge=de[0],_e=de[1],ve=N((0,n.useState)(null),2),ye=ve[0],ke=ve[1],we=(0,n.useContext)(g.Z),Ee=(we.screen,we.setScreen),Re=we.captionPosition,Se=we.setImageFile,xe=(we.imageFile,we.originalImageFile),Oe=N((0,y.Z)("Desktop"),2),Ce=Oe[0];Oe[1],(0,n.useEffect)((function(){T.width&&T.height||s({imageDimensions:j({},P)}),P.url&&Se(P)}),[]);var Pe=function(){var e,t=(e=O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fe(!0),e.next=3,(0,_.Z)(photoBlock.restNonce,{},"".concat(photoBlock.restUrl+"/get-image-by-size","/id=").concat(P.id,"/size=").concat(t),"GET").then((function(e){s({photo:j(j({},P),e.data)}),s({imageDimensions:j(j({},T),e.data)}),s({imageSizePercentage:"100"})})).catch((function(e){console.error(e)})).then((function(){fe(!1)}));case 3:case"end":return e.stop()}}),e)})),function(){var t=this,o=arguments;return new Promise((function(n,r){var a=e.apply(t,o);function l(e){C(a,n,r,l,c,"next",e)}function c(e){C(a,n,r,l,c,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}(),je=[];for(var Le in photoBlock.imageSizes){var Ne=photoBlock.imageSizes[Le];je.push({value:Le,label:Ne.label})}var Te,Ae,De=React.createElement(React.Fragment,null,React.createElement(r.PanelBody,{title:(0,l.__)("Presets","photo-block"),initialOpen:!0}),React.createElement(k.Z,{title:(0,l.__)("Photo Settings","photo-block"),icon:React.createElement(c.Z,null),className:"photo-block__inspector-panel",id:"photo-block__photo-settings",uniqueId:S,initialOpen:!0,scrollAfterOpen:!1},React.createElement(r.PanelRow,null,React.createElement(r.TextControl,{label:(0,l.__)("Photo Title","photo-block"),value:P.title,onChange:function(e){s({photo:j(j({},P),{},{title:e})})},placeholder:(0,l.__)("Please enter a title for this photo.","photo-block")})),React.createElement(r.PanelRow,null,React.createElement(r.TextareaControl,{label:(0,l.__)("Alt Text","photo-block"),value:P.alt,onChange:function(e){s({photo:j(j({},P),{},{alt:e})})},placeholder:(0,l.__)("Please describe this photo.","photo-block"),help:(0,l.__)("Alt text provides a description of the photo for screen readers and search engines.","photo-block")})),React.createElement(r.PanelRow,null,React.createElement(r.SelectControl,{label:(0,l.__)("Image Size","photo-block"),value:L,onChange:function(e){s({imageSize:e}),Pe(e)},options:je})),React.createElement(r.PanelRow,{className:"dlx-photo-block__image-dimensions-row"},React.createElement("h3",null,(0,l.__)("Image Dimensions","photo-block")),me&&React.createElement(r.Spinner,null),!me&&React.createElement(React.Fragment,null,React.createElement("div",{className:"dlx-photo-block__image-dimensions"},React.createElement(r.TextControl,{label:(0,l.__)("Width","photo-block"),value:T.width?T.width:ee,onChange:function(e){var t=function(e,t,o){var n=e/t;return Math.round(o/n)}(P.width,P.height,e),o={width:e,height:t};s({imageDimensions:j(j({},T),o)})},type:"number"}),React.createElement(r.TextControl,{label:(0,l.__)("Height","photo-block"),value:T.height?T.height:te,onChange:function(e){var t=function(e,t,o){var n=e/t;return Math.round(o*n)}(P.width,P.height,e),o={width:t,height:e};s({imageDimensions:j(j({},T),o)})},type:"number"})),React.createElement("div",{className:"dlx-photo-block__image-dimensions-buttons"},React.createElement(r.ButtonGroup,{className:"dlx-photo-block__image-dimensions-buttons-group"},React.createElement(r.Button,{isSmall:!0,variant:"secondary",className:d()("dlx-photo-block__image-dimensions-buttons-group-button",{"is-pressed":"25"===A}),onClick:function(){var e=Math.round(.25*P.width),t=Math.round(.25*P.height);s({imageSizePercentage:"25",imageDimensions:j(j({},T),{},{width:e,height:t})})}},(0,l.__)("25%","photo-block")),React.createElement(r.Button,{isSmall:!0,className:d()("dlx-photo-block__image-dimensions-buttons-group-button",{"is-pressed":"50"===A}),variant:"secondary",onClick:function(){var e=Math.round(.5*P.width),t=Math.round(.5*P.height);s({imageSizePercentage:"50",imageDimensions:j(j({},T),{},{width:e,height:t})})}},(0,l.__)("50%","photo-block")),React.createElement(r.Button,{isSmall:!0,variant:"secondary",className:d()("dlx-photo-block__image-dimensions-buttons-group-button",{"is-pressed":"75"===A}),onClick:function(){var e=Math.round(.75*P.width),t=Math.round(.75*P.height);s({imageSizePercentage:"75",imageDimensions:j(j({},T),{},{width:e,height:t})})}},(0,l.__)("75%","photo-block")),React.createElement(r.Button,{isSmall:!0,variant:"secondary",className:d()("dlx-photo-block__image-dimensions-buttons-group-button",{"is-pressed":"100"===A}),onClick:function(){var e=Math.round(P.width),t=Math.round(P.height);s({imageSizePercentage:"100",imageDimensions:j(j({},T),{},{width:e,height:t})})}},(0,l.__)("100%","photo-block")))))))),Be=React.createElement(r.TabPanel,{className:"dlx-photo-block__inspector-tabs",activeClass:"active-tab",onSelect:function(e){pe(e)},children:function(){return React.createElement(React.Fragment,null)},tabs:[{name:"settings",title:(0,l.__)("Settings","photo-block"),className:"dlx-photo-block__inspector-tab",icon:React.createElement(i.Z,null)},{name:"styles",title:(0,l.__)("Styles","photo-block"),className:"dlx-photo-block__inspector-tab",icon:React.createElement(u.Z,null)}]},(function(e){switch(e.name){case"settings":return De;case"styles":return React.createElement(w.Z,{attributes:o,setAttributes:s})}})),Ie=React.createElement(a.InspectorControls,null,Be),Me=React.createElement(E.Z,{attributes:o,setAttributes:s}),Ze=React.createElement(React.Fragment,null,React.createElement(a.BlockControls,null,React.createElement(r.ToolbarGroup,null,React.createElement(r.ToolbarButton,{icon:React.createElement(h,null),label:(0,l.__)("Crop","photo-block"),onClick:function(){Ee("crop")}},(0,l.__)("Crop","photo-block"))),React.createElement(r.ToolbarGroup,null,React.createElement(r.ToolbarButton,{icon:React.createElement(c.Z,null),label:(0,l.__)("Replace Photo","photo-block"),onClick:function(){Ee("initial")}},(0,l.__)("Replace","photo-block")),(Te=null==xe?void 0:xe.url,Ae=null==P?void 0:P.url,Te&&Ae&&Te!==Ae&&React.createElement(r.ToolbarButton,{icon:React.createElement(p,null),label:(0,l.__)("Undo","photo-block"),onClick:function(){s({photo:xe,imageDimensions:{width:xe.width,height:xe.height}}),Se(xe)}},(0,l.__)("Undo","photo-block")))),React.createElement(r.ToolbarGroup,null,React.createElement(r.ToolbarButton,{icon:React.createElement(b.Z,null),label:(0,l.__)("Set Accessibility Options","photo-block"),onClick:function(){se(!ue)},ref:ce}),React.createElement(r.ToolbarButton,{icon:React.createElement(m.Z,null),label:(0,l.__)("Set Link Options","photo-block"),onClick:function(){_e(!ge)},ref:ke}))),ge&&React.createElement(v.Z,{attributes:o,setAttributes:s,anchorRef:ye,onClose:function(){_e(!1)}}),ue&&React.createElement(r.Popover,{position:"bottom center",onClose:function(){se(!1)},anchor:le},React.createElement("div",{className:"dlx-photo-block__a11y-popover"},React.createElement("h3",null,(0,l.__)("Accessibility Options","photo-block")),React.createElement(r.TextControl,{label:(0,l.__)("Photo Title","photo-block"),value:P.title,onChange:function(e){s({photo:j(j({},P),{},{title:e})})},placeholder:(0,l.__)("Please enter a title for this photo.","photo-block"),help:(0,l.__)("The title is used as a tooltip when hovering over the image.","photo-block")}),React.createElement(r.TextareaControl,{label:(0,l.__)("Alt Text","photo-block"),value:P.alt,onChange:function(e){s({photo:j(j({},P),{},{alt:e})})},placeholder:(0,l.__)("Please describe this image.","photo-block"),help:(0,l.__)("Alt text provides a description of the image for screen readers and search engines.","photo-block")})))),ze="\n\t\t#".concat(S," .dlx-photo-block__image-wrapper {\n\t\t\tbackground: ").concat(F,";\n\t\t\t").concat((0,R.kq)(Ce,q,"width"),"\n\t\t\t").concat((0,R.kq)(Ce,U,"height"),"\n\t\t\t").concat((0,R.kq)(Ce,V,"min-width"),"\n\t\t\t").concat((0,R.kq)(Ce,$,"min-height"),"\n\t\t\t").concat((0,R.kq)(Ce,G,"max-width"),"\n\t\t\t").concat((0,R.kq)(Ce,W,"max-height"),"\n\t\t}\n\t\t#").concat(S," img {\n\t\t\topacity: ").concat(D,";\n\t\t\t").concat(B?"filter: blur(".concat(B,"px);"):"","\n\t\t\tobject-fit: ").concat(I,";\n\t\t\t").concat("none"!==I?"height: 100%; width: 100%;":"","\n\t\t\t").concat("none"!==I&&"custom"!==M?"object-position:"+M+";":"","\n\t\t\t").concat("none"!==I&&"custom"===M&&""!==Z?"object-position:"+Z+";":"","\n\t\t\tpadding: ").concat((0,R.Ak)(Y,Ce),";\n\t\t\tmargin: ").concat((0,R.Ak)(J,Ce),";\n\t\t\tborder-radius: ").concat((0,R.Ak)(K,Ce),";\n\t\t\t").concat((0,R.ed)(X,Ce),"\n\t\t}\n\t");return z.enabled&&(ze+="\n\t\t\t#".concat(S," img {\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\tbox-shadow: ").concat(z.inset?"inset ":"").concat(z.horizontal,"px ").concat(z.vertical,"px ").concat(z.blur,"px ").concat(z.spread,"px ").concat(z.color,";\n\t\t\t\t-webkit-box-shadow: ").concat(z.inset?"inset ":"").concat(z.horizontal,"px ").concat(z.vertical,"px ").concat(z.blur,"px ").concat(z.spread,"px ").concat(z.color,";\n\t\t\t}\n\t\t")),React.createElement(React.Fragment,null,Ie,Ze,React.createElement(a.InspectorAdvancedControls,null,Me),React.createElement("style",null,ze),React.createElement("div",{className:"dlx-photo-block__screen-edit"},ne&&React.createElement("div",{className:"dlx-photo-block__screen-edit-spinner",style:{minWidth:ee,minHeight:te,maxWidth:"100%",maxHeight:"100%"}},React.createElement(r.Spinner,null)),React.createElement("figure",{className:"dlx-photo-block__screen-edit-image-wrapper dlx-photo-block__figure"},"top"===Re&&React.createElement("div",x({className:"dlx-photo-block__screen-edit-caption dlx-photo-block__caption"},f)),React.createElement("div",{className:"dlx-photo-block__screen-edit-image dlx-photo-block__image-wrapper"},React.createElement("img",{src:Q,className:d()("photo-block-".concat(H," dlx-photo-block__image"),{"has-css-gram":"none"!==H}),width:T.width,height:T.height,alt:"",onLoad:function(){re(!1)},ref:t,style:{maxWidth:"".concat(T.width,"px"),height:"auto"}}),"overlay"===Re&&React.createElement("div",x({className:"dlx-photo-block__screen-edit-caption dlx-photo-block__caption dlx-photo-block__caption--overlay"},f))),"bottom"===Re&&React.createElement("div",x({className:"dlx-photo-block__screen-edit-caption dlx-photo-block__caption"},f)))))})),D=A},853:function(e,t,o){o.d(t,{Z:function(){return n}});const n=(0,o(6472).Z)("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]])}}]);
//# sourceMappingURL=EditScreen.0.0.1.js.map